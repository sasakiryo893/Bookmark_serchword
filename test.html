<!DOCTYPE html>
<html lang="ja">
    <head>
        <title>csv</title>
        <meta charset="utf-8">
    </head>
    <body>
       <div>
        <table>
            <caption>csv-read</caption>
            <thead>
                <tr><th>id</th><th>name</th><th>url</th><th>search_word</th><th>memo</th></tr>
            </thead>
            <tbody id='csv-body' />
         </table>
        </div>
        <div>
         <label>ID:</label>
         <input type="text" class="id">
         <label>NAME:</label>
         <input type="text" class="name">
         <label>URL:</label>
         <input type="text" class="url">
         <label>SEARCH_WORD:</label>
         <input type="text" class="word">
         <label>MEMO:</label>
         <input type="text" class="memo">
         <input type="submit" value="add" class=btn>
        </div>
        <script src="http://code.jquery.com/jquery-3.3.1.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-csv/0.8.9/jquery.csv.min.js"></script>
        <script>
            var id;
            var name;
            var url;
            var search_word;
            var memo;
            var data;
            
            function readCsv(data) {
                var target = '#csv-body';
                var csv = $.csv.toArrays(data);
                var insert = '';
                $(csv).each(function() {
                    if (this.length > 0) {
                        insert += '<tr>';
                        $(this).each(function() {
                            insert += '<td>' + this + '</td>';
                        });
                        insert += '</tr>';
                    }
                });
                $(target).append(insert);
            }
            var csvfile = 'test.csv';
            
            $(function(){
                $.get(csvfile, readCsv, 'text');
                
                $('.btn').click(function() {
                    getdata();
                    $('tbody').append(data);
                    $('.slide').slideDown("fast");
                });
            });
            
            
            function getdata(){
                id=$('.id').val();
                name=$('.name').val();
                url=$('.url').val();
                word=$('.word').val();
                memo=$('.memo').val();
                data='<tr><th>' + id + '</th><th>' + name + '</th><th>' + url + '</th><th>' + word + '</th><th>' + memo + '</th></tr>';
            }
            
            
        </script>
    </body>
</html>
